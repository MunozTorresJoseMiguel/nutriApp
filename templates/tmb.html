{% extends 'base.html' %}
{% block title %}Calculadora TMB{% endblock %}
{% block content %}

<section class="bg-cover hero-min d-flex align-items-center py-4 py-md-0"
  style="background: url('../static/img/avocado.jpg') center/cover no-repeat;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-md-10 col-lg-8 col-xxl-7">
        <div class="card shadow-sm rounded-4 border-success bg-white bg-opacity-85">
          <div class="card-body p-3 p-sm-4 p-md-5">

            <div class="d-flex align-items-start justify-content-between flex-wrap gap-2 mb-3">
              <div>
                <h5 class="mb-0 text-success">Calculadora de Tasa Metab√≥lica Basal (TMB)</h5>
                <small class="text-muted">Descubre cu√°ntas calor√≠as quemas en reposo üî•</small>
              </div>
            </div>

            <form method="POST" action="/tmb">
              <hr class="my-4">

              <div class="row g-3">
                <div class="col-12 col-md-6">
                  <label for="peso" class="form-label">Peso (kg)</label>
                  <input type="number" step="0.1" class="form-control" id="peso" name="peso"
                         placeholder="Ej. 70.5" required>
                </div>
                <div class="col-12 col-md-6">
                  <label for="altura" class="form-label">Altura (cm)</label>
                  <input type="number" step="0.1" class="form-control" id="altura" name="altura"
                         placeholder="Ej. 175" required>
                </div>
                <div class="col-12 col-md-6">
                  <label for="edad" class="form-label">Edad (a√±os)</label>
                  <input type="number" class="form-control" id="edad" name="edad"
                         placeholder="Ej. 25" required>
                </div>
                <div class="col-12 col-md-6">
                  <label for="sexo" class="form-label">Sexo</label>
                  <select class="form-select" id="sexo" name="sexo" required>
                    <option value="">Selecciona...</option>
                    <option value="masculino">Masculino</option>
                    <option value="femenino">Femenino</option>
                  </select>
                </div>
              </div>

              <div class="mt-4 d-grid">
                <button type="submit" class="btn btn-success btn-lg">Calcular TMB</button>
              </div>
            </form>

            {% if resultado %}
            <hr class="my-4">
            <div class="alert alert-light border-success text-center rounded-4">
              <h5 class="mb-1 text-success">Tu TMB es: <strong>{{ resultado }} kcal/d√≠a</strong></h5>
              <p class="mb-0">Este es el n√∫mero estimado de calor√≠as que tu cuerpo necesita para funcionar en reposo.</p>
            </div>
            {% endif %}
          </div>
        </div>
        <p class="text-center text-white-50 small mt-3 px-2">
          Calcula tu TMB para personalizar tu plan nutricional en NutriApp üíö
        </p>
      </div>
    </div>
  </div>
</section>

{% endblock %}
